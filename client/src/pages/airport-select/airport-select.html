<ion-header>

    <ion-navbar>
        <ion-title>Select An Airport</ion-title>
    </ion-navbar>

</ion-header>

<ion-content padding>
    <ion-item>
        <ion-input type="text" placeholder="Search" [(ngModel)]="searchText"></ion-input>
    </ion-item>

    <ion-list>
        <ion-item
            color="primary"
            *ngFor="let airport of allAirports | airportShortcodeMatch : searchText"
            (click)="selectAirport(airport)">
            <span class="airport-shortcode" [style.color]="'white'">({{ airport.shortcode }})</span>
            <span class="airport-name">{{ airport.name }}</span>
        </ion-item>
    </ion-list>

    <div *ngIf="nearbyAirports.length > 0">
        <ion-list>
            <ion-list-header>Nearby Airports</ion-list-header>
            <ion-item *ngFor="let airport of nearbyAirports"
                      (click)="selectAirport(airport)">
                <div class="nearby-airport-list-item">
                    <div>
                        <span class="airport-shortcode">({{ airport.shortcode }})</span>
                        <span class="airport-name">{{ airport.name }}</span>
                    </div>
                    <span class="airport-distance">{{ airport.milesFromUser }}mi</span>
                </div>
            </ion-item>
        </ion-list>
    </div>

    <ion-list>
        <ion-list-header>All Airports</ion-list-header>
        <ion-item *ngFor="let airport of allAirports | airportName : searchText"
                  (click)="selectAirport(airport)">
            <span class="airport-shortcode">({{ airport.shortcode }})</span>
            <span class="airport-name">{{ airport.name }}</span>
        </ion-item>
    </ion-list>
</ion-content>
